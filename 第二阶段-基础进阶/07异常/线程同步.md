#### 线程同步

1. 线程安全问题 的内存图

   ![线程安全问题内存图](D:\HH_STUDY-test\基础知识加强版\07异常\线程同步.assets\线程安全问题内存图.PNG)
2. 解决线程安全问题

   - 同步代码块

     ```java
     synchronized (任意对象，但是多个多线程使用的锁对象必须是同一个){
       需要同步的代码;
       }
     ```

   - 同步方法（定义一个方法，关键字挂上synchronized）

     ```java
     public synchronized void method(){
     	 可能会产生线程安全问题的代码;
     }//锁对象是实现这个runnable接口的对象，this
     ```

   - 静态同步方法

     ```java
     public static synchronized void method(){
     	 可能会产生线程安全问题的代码;
     }//静态方法的锁对象是本类的class属性（反射）
     ```

   - Lock锁接口

     - lock：获取锁
     - unlock：释放锁
     - 步骤：创建Reentrantlock实现类对象，在代码前调用lock()，在代码后调用unlock（）
