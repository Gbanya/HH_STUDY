### 3.2.3接口

#### 一、接口的定义基本格式

接口：就是多个类的公共规范。
 接口是一种引用数据类型，最重要的内容就是其中的抽象方法。
 定义接口：
 *public interface* *接口名称{
   //**接口内容
 }
\* 
 备注：换成了关键字interface之后，生成的字节码文件仍然是：*.java --> .class*

 如果是Java7，那么接口中可以包含的内容有：
 1.常量
 2.抽象方法

 如果是Java8，还可以额外包含：
 3.默认方法
 4.静态方法

 如果是Java9，还可以额外包含：
 5.私有方法

 

#### 二、接口的抽象方法定义

在任何版本的Java中，接口都能定义抽象方法：
 基本格式：
 *public abstract* *返回值类型* *方法名称（参数列表）;
\* 
 注意事项：
 1.接口中的抽象方法，修饰符必须是两个固定的关键字：*public abstract
\* 2.这两个关键字修饰符，可以选择性省略，（今天刚学，不推荐）
 3.方法的三要素可以随意定义。

 

#### 三、接口的使用

1.接口不能直接使用，必须有一个“实现类”来“实现”该接口。
 格式：
 *public class* *实现类名称 implements* *接口名称{
   //....
 }*
 2.接口的实现必须覆盖重写（实现）接口中所以的抽象方法。
 实现：去掉abstract关键字，加上大括号和方法体。
 3.创建类的对象，进行使用。

 

注意事项：
 如果实现类并没有覆盖重写接口中所有的抽象方法，那么这个实现类自己就必须是抽象类。

 

 

#### 四、接口中默认方法的定义和使用

从java8开始，接口里允许有默认方法
 格式：
 *public default* *返回值类型* *方法名称（参数列表）{
\*   *方法体
 }*
 备注：接口中的默认方法，可以解决接口升级问题。

 

1.接口的默认方法，可以通过接口实现类对象，直接调用。
 2.接口的默认方法，也可以被接口实现类进行覆盖重写。

#### 五、接口中静态方法的定义和使用

从Java8开始，接口中允许定义静态方法。
 格式：
 *public static* *返回值类型* *方法名称（参数列表）{
\*   *方法体
 }*
 提示：就是将abstract/default换成static即可，必须写上方法体。

 

注意：不能通过接口实现类的对象类调用接口当中的静态方法。
 正确用法：通过接口名称，直接调用其中的静态方法！
 *接口名称.**静态方法名（参数）;*

 

#### 六、接口中私有方法的定义和使用

问题描述：
 我们需要抽取一个共有方法，用来解决两个默认方法和静态方法中代码重复的问题。
 但是这个共有方法不应该让实现类使用，应该是私有化的。
 
 解决方案：
 从java9开始，接口中允许定义私有方法。
 1.普通私有方法：解决多个默认方法之间的重复代码问题。
 *private* *返回值类型* *方法名称（参数列表）{
\*   *方法体
 }
\* 
 2。静态私有方法：解决多个静态方法之间的代码重复问题、*
 private static* *返回值类型* *方法名称（参数列表）{
\*   *方法体
 }*

 

#### 七、接口的常量定义和使用

接口中也可以定义“成员变量”，但是必须使用*public static final*三个关键字进行修饰。
 从效果上看，这其实就是接口的【常量】。
 格式：
 *public static final* *数据类型* *常量名称 =* *数据值;
\* 备注：一旦使用了final关键字进行修饰，说明不可改变。
 
 注意事项：
 1.接口中的常量，可以省略*public static final*关键字。注意：不写也照样是这样的。
 2.接口中的常量，必须进行赋值，不能不赋值。
 3.接口中常量的名称，使用完全大写的字母，用下划线进行分隔。（推荐命名规则）

 

#### 八、接口内容小结

在Java9+中，接口的内容可以有：

 

1、成员变量（其实就是常量），格式：

[public] [static] [final] 数据类型 常量名称 = 数据值;

注意：

​    常量必须进行赋值，而且一旦赋值不能改变。

​    常量名称完全大写，使用下划线进行分隔。

​    

2、接口中最重要的就是抽象方法，格式：

[public] [abstract] 返回值类型 方法名称(参数列表);

注意：实现类必须覆盖重写接口所有的抽象方法，除非实现类是抽象类。

 

3、从Java8开始，接口里允许定义默认方法，格式：

[public] default 返回值类型 方法名称(参数列表) {方法体}

 

4.从Java8开始，接口里允许定义静态方法，格式：

[public] static 返回值类型 方法名称(参数列表)  {方法体}

 

5、从Java9开始，接口里允许定义私有方法，格式：

普通私有方法：private 返回值类型 方法名称(参数列表) {方法体}

静态私有方法：private static 返回值类型 方法名称(参数列表) {方法体}

注意：private的方法只有接口自己才能使用，不能被其他实现类或别人使用。

 

#### 九、继承父类并实现多个接口

使用接口的时候，需要注意：
 1、接口是没有静态代码块和构造方法的。
 2、一个类的直接父类是唯一的，但是一个类可以同时实现多个接口。
 格式：
 *public class MyInterfaceImpl implements MyInterfaceA, MyInterfaceB{
   //**覆盖重写所有抽象方法
 }
\* 3、如果实现类所实现的多个接口中，存在重复的抽象方法，那么只需要覆盖重写一次即可。
 4、如果实现类没有覆盖重写所有接口中的所有抽象方法，那么实现类必须是一个抽象类。
 5、如果实现类所实现的多个接口中，存在重复的默认方法，那么实现类一定要对冲突的默认方法进行覆盖重写。
 6、一个类中如果直接父类中的方法和接口中的默认方法产生了冲突，优先使用父类中的方法。

 

#### 十、接口之间的多继承

1、类与类之间是单继承的，直接父类只有一个。
 2、类与接口之间是多实现的，一个类可以实现多个接口。
 3、接口与接口之间是多继承的。
 
 注意事项：
 1、多个父接口中的抽象方法若是重复，没关系。
 2、多个父接口中的默认方法如果重复，那么子接口必须进行默认方法的覆盖重写。【而且必须带着default关键字】

 