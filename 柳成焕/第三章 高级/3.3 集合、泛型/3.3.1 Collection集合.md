### 3.3.1 Collection集合

#### 一、集合的框架

Collection接口：

​    1.定义的所有单列集合中的共性方法；

​    2.所有单列集合都可以使用共性的方法；

​    3.没有带索引的方法。

​    子类：List接口和Set接口

​    List接口

​       1.有序的集合（存储和取出元素顺序相同）；

​       2.允许存储重复的元素；

​       3.有索引（可以使用普通的for循环）。

​       子类：Vector集合、ArrayList集合、LinkedList集合

​    Set接口

​       1.不允许有重复元素；

​       2.没有索引（不能使用普通的for循环遍历）

​       子类：TreeSet集合、HashSet集合（无序：存储和取出的顺序可能不一致）

​            HashSet还有个子类LinkedHashSet集合（有序）

​                               

 

学习集合的目标：

1.会使用集合存储数据；

2.会遍历集合，把数据取出来；

3.掌握每种集合的特性。

 

集合框架的学习方式：

1.学习顶层：学习顶层接口/父类中共有的方法，所有的子类都可以使用。

2.使用底层：顶层不是接口就是抽象类，无法创建对象，需要使用底层的子类创建对象使用。

 

#### 二、Collection常用功能

*java.util.Collection*接口：

1、*public boolean **add**(E e);* 把给定的对象添加到当前集合中（一般都返回true，可以不用接收）

2、*public void **clear**();*     清空集合中所有的元素（清空集合中的元素，但集合还在）

3、*public boolean **remove**(E e);* 把给定的对象在集合中删除
  （集合中存在该元素，删除元素，返回true；集合中不存在该元素，删除失败，返回false）
 4、*public boolean **contains**(E e);* 判断当前集合中是否包含给定的对象

5、*public boolean **isEmpty**();*  判断当前集合是否为空(空返回true)
 6、*public int **size**();*      返回集合中元素的个数

7、*public Object[] **toArray**();*  把集合中的元素，存储到数组中。

 

#### 三、Interator迭代器

java.util.Iterator接口：迭代器（对集合进行遍历）
 （一）有两个常用方法：
   boolean **hasNext**() 判断集合中还有没有下一个元素，有则返回true，没有则返回false.
   E **next**()     取出集合的下一个元素
 注意：
 1.Iterator迭代器是一个接口，无法直接使用，需要使用其实现类对象。获取实现类的方式比较特殊。
 2.Collection接口中有一个方法叫Iterator()，这个方法的返回值就是Iterator的实现类对象。
  即：Iterator<E> iterator()
 
 （二）迭代器的使用步骤【重点】：
 1.先使用集合中的方法iterator()获取迭代器的实现类对象，使用Iterator接口接收（多态）；

注意：Iterator<E>接口也是有泛型的，迭代器的泛型跟着集合走，集合是什么类型，迭代器就是什么类型。
 2.使用Iterator的hasNext()方法判断还有没有下一个元素；
 3.使用Iteraor的next()方法取出集合中的一个元素。

```
Collection<String>coll=new ArrayList<>();
coll.add("孙尚香");
coll.add("后羿");
coll.add("鲁班七号");
coll.add("虞姬");
coll.add("伽罗");
//1.先使用集合中的方法iterator()获取迭代器的实现类对象，使用Iterator接口接收（多态）；
//泛型与集合一致
//接口           --   实现类     （多态）
Iterator<String> it=coll.iterator();

while (it.hasNext()){  //2.判断是否还有下一个元素
    String str=it.next();  //有则取出下一个元素
    System.out.println(str);
}
```

 

（三）迭代器的实现原理

Iterator<String> it=coll.iterator();
 获取迭代器的实现类对象，并且把指针（索引）指向集合的-1索引。
 it.hasNext()

判断集合还有没有下一个元素

String str=it.next();

做了两件事情：1.取出下一个元素  2.指针向后移一位

 

 

#### 四、增强for循环for each

也叫for each，专门用于遍历数组和集合。是JDK1.5之后的新特性。内部其实是一个迭代器Iterator，因此不能对集合元素进行增删，只能进行遍历。

 

增强for循环：底层使用的是迭代器，使用for循环的结构，简化了迭代器的书写。
 public interface Collection<E>extends Iterable<E>：所有的单列集合都可以使用增强for。
 public interface Iterable<T>实现这个接口允许对象成为 "foreach" 语句的目标。
 
 作用：用于遍历集合和数组
 格【】式】：*for(**集合/**数组的数据类型* *变量名：集合名/**数组名) {
         sout(**变量名);
       }*

注意事项：增强for循环必须有遍历的目标，目标只能是Collection或者是数组。